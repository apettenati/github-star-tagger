{"version":3,"sources":["EditTags.tsx","Star.tsx","GetStars.tsx","Stars.tsx","User.tsx","App.tsx","index.tsx"],"names":["EditTags","starID","tags","addTag","removeTag","useState","show","setShow","handleClose","text","setText","className","Button","variant","onClick","Modal","onHide","Header","Title","Body","Form","id","onSubmit","event","preventDefault","Number","target","newTag","trim","alert","Label","htmlFor","Control","type","name","value","onChange","length","map","tag","style","marginRight","marginLeft","Footer","Star","star","href","html_url","owner","login","description","GetStars","username","setStars","getResponseObject","url","a","fetch","response","ok","json","Error","getLastPage","links","headers","get","lastPageNumber","parseInt","match","pageNumber","lastPage","console","log","starData","data","push","newStarData","Stars","starDataWithTags","stars","forEach","includes","removedTag","filter","User","setUsername","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b887c2da.chunk.js","sourcesContent":["import { useState } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap'\nimport { FaTags, FaEdit,  FaTimes } from 'react-icons/fa'\n\nexport function EditTags({ starID, tags, addTag, removeTag }) {\n  const [show, setShow] = useState(false)\n  const handleClose = () => setShow(false)\n  const handleShow = () => setShow(true)\n  const [text, setText] = useState('')\n\n  function onSubmit(event) {\n    event.preventDefault()\n    const id = Number(event.target.id)\n    // const newTag = event.target['add-tag'].value.trim()\n    const newTag = text.trim()\n    if (newTag === '') {\n      alert('Please enter text to add a new tag')\n      return\n    }\n    addTag(id, newTag)\n    setText('')\n  }\n\n  return (\n    <div className=\"tags\">\n      <Button variant=\"link\" onClick={handleShow}>\n        <FaEdit />\n      </Button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header>\n          <Modal.Title>Edit Tags</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form id={starID} onSubmit={onSubmit}>\n            <Form.Label htmlFor=\"add-tag\"><h4>Add Tag</h4></Form.Label>\n              <Form.Control\n              type=\"text\"\n              name=\"add-tag\"\n              value={text}\n              onChange={(event) => setText(event.target.value)}\n              />\n              <Button className=\"mt-2 btn btn-success\" type=\"submit\">Add Tag</Button>\n          </Form>\n          <br />\n          <h4>Delete Tags</h4>\n          <div className=\"d-flex justify-content-start gap-1\">\n          {(tags.length === 0 ) ? <button className=\"tag btn btn-outline-secondary\">No tags</button> : null } \n            {tags.map((tag) => (\n              <span id={starID} onClick={() => removeTag(starID, tag)} key={tag} className=\"tag btn btn-outline-danger\">\n                <FaTags style={{ marginRight: 5, }} />\n                {tag}\n                <FaTimes style={{ marginLeft: 5 }} />\n              </span>\n            ))}\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={handleClose} variant=\"outline-danger\">\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  )\n}","import { EditTags } from './EditTags'\nimport { FaTags } from 'react-icons/fa'\n\nexport function Star({ star, addTag, removeTag }) {\n\n  return (\n    <div className=\"bg-light card\">\n      <div className=\"card-body\">\n        <h3 className=\"card-title\"><a href={star.html_url}>{star.name}</a></h3>\n        <p className=\"card-subtitle mb-4 text-muted fst-italic\">{star.owner.login}</p>\n        <p className=\"card-text fst-light\">{star.description}</p>\n        <div className=\"d-flex justify-content-start gap-1\">\n          {(star.tags.length === 0) ? <button className=\"tag btn btn-outline-secondary\">No tags</button> : null}\n          {star.tags.map((tag) => (\n            <button key={tag} className=\"tag btn btn-outline-secondary\">\n              <FaTags style={{ marginRight: 5, }} />\n              {tag}\n            </button>))}\n          <EditTags\n            starID={star.id}\n            tags={star.tags}\n            addTag={addTag}\n            removeTag={removeTag}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}","import { Button } from 'react-bootstrap'\n\nexport function GetStars({ username, setStars }) {\n\n  async function getResponseObject(url: string) {\n    // get the json response containing user star data from provided url\n    const response = await fetch(url)\n    if (response.ok) {\n      const json = await response.json()\n      // console.log('json response', json)\n      return json\n    }\n    throw new Error('Failed to get response object')\n  }\n\n  async function getLastPage(url: string) {\n    // get link data, identify the last URL, and return the page number\n    const response = await fetch(url)\n    if (response.ok) {\n      const links = response.headers.get('Link')\n      const regex = '.*page=(.*)>; rel=\"last\"'\n      const lastPageNumber = parseInt(links.match(regex)[1])\n      // setLastPage(lastPageNumber)\n      return lastPageNumber\n    }\n    throw Error('Failed to get last page')\n  }\n\n  async function getStarData() {\n    // initialize first link with username\n    let pageNumber = 1\n    let url = `https://api.github.com/users/${username}/starred?per_page=100&page=${pageNumber}`\n    // get API link data from header\n    const lastPage = await getLastPage(url)\n    console.log('last page from getLastPage', lastPage)\n    // loop through all star pages and append json response to array of stars\n    const starData = []\n    for (pageNumber; pageNumber <= lastPage; pageNumber++) {\n      url = `https://api.github.com/users/${username}/starred?per_page=100&page=${pageNumber}`\n      let data = await getResponseObject(url)\n      starData.push(...data)\n    }\n    console.log(starData)\n    const newStarData = starData.map((star) => ({ ...star, tags: [] as string[] }))\n    console.log({newStarData})\n    setStars(newStarData)\n  }\n\n  return (\n      <Button onClick={getStarData}>Get Star Data</Button>\n  )\n}","// import starData from './star-data.json'\nimport starDataWithTags from './star-data-with-tags.json'\nimport { useState } from 'react'\nimport { Star } from './Star'\nimport { GetStars } from './GetStars'\n\nexport function Stars({ username }) {\n  // const newStarData = starData.map((star) => ({ ...star, tags: [] as string[] }))\n  // const newStarData = []\n\n  // if (!localStorage.getItem('stars')) {\n  //   localStorage.setItem('stars', JSON.stringify(newStarData))\n  // }\n\n  // const [ stars, setStars ] = useState(JSON.parse(localStorage.getItem('stars')))\n\n  // const [stars, setStars] = useState(newStarData)\n  const [stars, setStars] = useState(starDataWithTags)\n\n  function addTag(id, newTag) {\n    stars.forEach((star) => {\n      if (star.id === id) {\n        if (star.tags.includes(newTag)) {\n          alert('Tag already assigned to this star')\n          return\n        }\n        else {\n          setStars(stars.map((star) => star.id === id ?\n            { ...star, tags: [...star.tags, newTag] }\n            : star\n          ))\n        }\n      }\n    })\n  }\n\n  function removeTag(id, removedTag) {\n    setStars(stars.map((star) => star.id === id ?\n      { ...star, tags: (star.tags.filter((tag) => tag !== removedTag)) }\n      : star\n    ))\n  }\n\n  return (\n    <>\n      <GetStars\n        username={username}\n        setStars={setStars}\n      />\n      <h3>Your Stars</h3>\n      <h4>Total Stars: {stars.length}</h4>\n      <div>\n        <div className=\"row row-cols-1 row-cols-lg-4 gap-3\">\n          {stars.map((star) => (\n            <Star\n              key={star.id}\n              star={star}\n              addTag={addTag}\n              removeTag={removeTag}\n            />\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}","import { useState } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap'\nimport { FaUser } from 'react-icons/fa'\n\nexport function User({ username, setUsername }) {\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <div className=\"user\">\n      <div>Current Username: {username}\n        <Button onClick={handleShow}>\n          <FaUser />\n        Change Username\n      </Button>\n      </div>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header>\n          <Modal.Title>Edit Username</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={setUsername}>\n            <Form.Label htmlFor=\"username\"><h4>Username</h4></Form.Label>\n            <Form.Control type=\"text\" name=\"username\" />\n            <Button className=\"mt-2 btn btn-success\" type=\"submit\">Update Username</Button>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={handleClose} variant=\"outline-danger\">\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  )\n}","import { useState } from 'react';\nimport { Stars } from './Stars'\nimport { User } from './User'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nexport function App() {\n  const [username, setUsername] = useState('apettenati')\n  // const [username, setUsername] = useState('nathanph')\n\n  return (\n    <div>\n      <div>\n        <User\n          username={username}\n          setUsername={setUsername}\n        />\n      </div>\n      <br />\n      <Stars username={username} />\n    </div>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}